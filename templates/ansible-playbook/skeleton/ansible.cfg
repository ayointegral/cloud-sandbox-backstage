[defaults]
# Basic configuration
inventory = inventory/hosts
host_key_checking = False
remote_user = ansible
private_key_file = ~/.ssh/id_rsa
ansible_managed = Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}

# Performance tuning
forks = 50
gathering = smart
fact_caching = memory
fact_caching_timeout = 86400

# Output formatting
stdout_callback = yaml
display_skipped_hosts = False
display_ok_hosts = False

# Logging
log_path = ./ansible.log

# Roles path
roles_path = roles:~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles

# Collections path
collections_path = ~/.ansible/collections:/usr/share/ansible/collections

# Retry files
retry_files_enabled = False

[ssh_connection]
# SSH configuration
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o IdentitiesOnly=yes
control_path_dir = ~/.ansible/cp
control_path = %(directory)s/%%h-%%p-%%r
pipelining = True
timeout = 30

[persistent_connection]
# Persistent connection settings
command_timeout = 30
connect_timeout = 30

[inventory]
# Inventory plugins
enable_plugins = host_list, script, auto, yaml, ini, toml

[privilege_escalation]
# Privilege escalation
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[galaxy]
# Galaxy settings
server_list = automation_hub, galaxy

[galaxy_server.automation_hub]
url = https://cloud.redhat.com/api/automation-hub/
auth_url = https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token

[galaxy_server.galaxy]
url = https://galaxy.ansible.com/
