---
# Default variables for Docker role

# Docker version (use 'latest' for latest version)
docker_version: latest

# Install Docker Compose standalone
docker_install_compose: true
docker_compose_version: latest
docker_compose_symlink: true

# Users to add to docker group
docker_users: []

# Configure user-specific Docker settings
docker_configure_user_settings: true

# Hold Docker packages to prevent automatic upgrades
docker_hold_packages: false

# Install Docker Python SDK
docker_install_python_sdk: true

# Run hello-world container to verify installation
docker_run_hello_world: true

# Architecture for apt repository
docker_apt_arch: "{{ 'arm64' if ansible_architecture == 'aarch64' else 'amd64' }}"

# Docker daemon configuration
docker_daemon_config:
  storage-driver: overlay2
  log-driver: json-file
  log-opts:
    max-size: '100m'
    max-file: '3'
  live-restore: true
  userland-proxy: false
  experimental: false
  metrics-addr: '0.0.0.0:9323'
  default-address-pools:
    - base: '172.17.0.0/12'
      size: 24

# Docker daemon logging (journald, json-file, syslog, etc.)
docker_log_driver: json-file
docker_log_opts:
  max-size: '100m'
  max-file: '3'

# Docker default ulimits
docker_default_ulimits:
  nofile:
    soft: 65536
    hard: 65536

# Docker insecure registries
docker_insecure_registries: []

# Docker registry mirrors
docker_registry_mirrors: []

# Docker DNS settings
docker_dns: []
docker_dns_search: []

# Enable Docker Content Trust
docker_content_trust: false

# Docker storage driver options
docker_storage_opts: {}

# Docker networks to create
docker_networks: []
# Example:
# docker_networks:
#   - name: app-network
#     driver: bridge
#     ipam_config:
#       - subnet: "172.28.0.0/16"
#         gateway: "172.28.0.1"

# Systemd override settings
docker_systemd_override: false
docker_systemd_options: {}

# Docker cleanup settings
docker_cleanup_enabled: true
docker_cleanup_cron_minute: '0'
docker_cleanup_cron_hour: '3'
docker_cleanup_cron_day: '*'
docker_cleanup_cron_month: '*'
docker_cleanup_cron_weekday: '*'
docker_cleanup_prune_images: true
docker_cleanup_prune_volumes: false
docker_cleanup_prune_networks: true
docker_cleanup_prune_buildcache: true
docker_cleanup_image_age: '24h'
